
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.5.4">
    
    
      
        <title>API documentation - obs-picamera</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.80dcb947.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="obs-picamera" class="md-header__button md-logo" aria-label="obs-picamera" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            obs-picamera
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API documentation
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gluap/obs-picamera" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="obs-picamera" class="md-nav__button md-logo" aria-label="obs-picamera" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    obs-picamera
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gluap/obs-picamera" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API documentation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#obs_picamera" class="md-nav__link">
    obs_picamera
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth" class="md-nav__link">
    bluetooth
  </a>
  
    <nav class="md-nav" aria-label="bluetooth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth.ObsBT" class="md-nav__link">
    ObsBT
  </a>
  
    <nav class="md-nav" aria-label="ObsBT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth.ObsBT.overtaking_handler" class="md-nav__link">
    overtaking_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.recorder" class="md-nav__link">
    recorder
  </a>
  
    <nav class="md-nav" aria-label="recorder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.recorder.Recorder" class="md-nav__link">
    Recorder
  </a>
  
    <nav class="md-nav" aria-label="Recorder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.recorder.Recorder.save_snippet_to" class="md-nav__link">
    save_snippet_to()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.scripts" class="md-nav__link">
    scripts
  </a>
  
    <nav class="md-nav" aria-label="scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui" class="md-nav__link">
    ui
  </a>
  
    <nav class="md-nav" aria-label="ui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp" class="md-nav__link">
    MyApp
  </a>
  
    <nav class="md-nav" aria-label="MyApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp.list_view_on_selected" class="md-nav__link">
    list_view_on_selected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp.on_close" class="md-nav__link">
    on_close()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#obs_picamera" class="md-nav__link">
    obs_picamera
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth" class="md-nav__link">
    bluetooth
  </a>
  
    <nav class="md-nav" aria-label="bluetooth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth.ObsBT" class="md-nav__link">
    ObsBT
  </a>
  
    <nav class="md-nav" aria-label="ObsBT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.bluetooth.ObsBT.overtaking_handler" class="md-nav__link">
    overtaking_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.recorder" class="md-nav__link">
    recorder
  </a>
  
    <nav class="md-nav" aria-label="recorder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.recorder.Recorder" class="md-nav__link">
    Recorder
  </a>
  
    <nav class="md-nav" aria-label="Recorder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.recorder.Recorder.save_snippet_to" class="md-nav__link">
    save_snippet_to()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obs_picamera.scripts" class="md-nav__link">
    scripts
  </a>
  
    <nav class="md-nav" aria-label="scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui" class="md-nav__link">
    ui
  </a>
  
    <nav class="md-nav" aria-label="ui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp" class="md-nav__link">
    MyApp
  </a>
  
    <nav class="md-nav" aria-label="MyApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp.list_view_on_selected" class="md-nav__link">
    list_view_on_selected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obs_picamera.scripts.ui.MyApp.on_close" class="md-nav__link">
    on_close()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/gluap/obs-picamera/edit/master/docs/api_docs.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="api-documentation">API documentation</h1>


<div class="doc doc-object doc-module">


<a id="obs_picamera"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="obs_picamera.bluetooth" class="doc doc-heading">
          <code>bluetooth</code>


</h2>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="obs_picamera.bluetooth.ObsBT" class="doc doc-heading">
        <code>ObsBT</code>


</h3>


  <div class="doc doc-contents ">



        <details class="quote">
          <summary>Source code in <code>obs_picamera/bluetooth.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ObsBT</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scanner</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ObsScanner</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bt_connected</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">my_scanner</span><span class="p">:</span> <span class="n">ObsScanner</span> <span class="o">=</span> <span class="n">scanner</span> <span class="k">if</span> <span class="n">scanner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">ObsScanner</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overtaking_callbacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recording_callbacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bt_connecting</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unittesting</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">:</span> <span class="n">deque</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">find_obs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">my_scanner</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">my_scanner</span><span class="o">.</span><span class="n">obs_address</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">overtaking_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Simple notification handler which prints the data received.&quot;&quot;&quot;</span>
        <span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;Ihh&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Overtaking event: sensortime: </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2">, Left distance </span><span class="si">{</span><span class="n">l</span><span class="si">}</span><span class="s2">, right distance </span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">overtaking_callbacks</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">(</span>
                <span class="n">distance_l</span><span class="o">=</span><span class="n">l</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
                <span class="n">distance_r</span><span class="o">=</span><span class="n">r</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
                <span class="n">handlebars_l</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
                <span class="n">handlebar_r</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
                <span class="n">track_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">track_id</span><span class="p">,</span>
                <span class="n">sensortime</span><span class="o">=</span><span class="n">t</span><span class="p">,</span>
                <span class="n">history</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">history_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;Ihh&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">DistanceMeasurement</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">l</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span> <span class="n">r</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">recording_callbacks</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">(</span>
                <span class="n">distance_l</span><span class="o">=</span><span class="n">l</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
                <span class="n">distance_r</span><span class="o">=</span><span class="n">r</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
                <span class="n">handlebars_l</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
                <span class="n">handlebar_r</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
                <span class="n">track_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">track_id</span><span class="p">,</span>
                <span class="n">sensortime</span><span class="o">=</span><span class="n">t</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">disconnected_callback</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">bleak</span><span class="o">.</span><span class="n">BleakClient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bt_connected</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">async</span> <span class="k">with</span> <span class="n">bleak</span><span class="o">.</span><span class="n">BleakClient</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span><span class="p">,</span> <span class="n">disconnected_callback</span><span class="o">=</span><span class="n">disconnected_callback</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">25</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected: </span><span class="si">{</span><span class="n">client</span><span class="o">.</span><span class="n">is_connected</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">start_notify</span><span class="p">(</span>
                <span class="n">CLOSE_PASS_NOTIFICATION_UUID</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">overtaking_handler</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">start_notify</span><span class="p">(</span>
                <span class="n">SENSOR_DISTANCE_NOTIFICATION_UUID</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">history_handler</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">track_id</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">read_gatt_char</span><span class="p">(</span><span class="n">TRACK_ID_UUID</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="n">handlebar</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">read_gatt_char</span><span class="p">(</span><span class="n">HANDLEBAR_OFFSET_UUID</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;hh&quot;</span><span class="p">,</span> <span class="n">handlebar</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;track id is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">track_id</span><span class="si">}</span><span class="s2">, handlebar: &lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="si">}</span><span class="s2"> &gt;&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bt_connected</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bt_connecting</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">bt_connected</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">unittesting</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_obs</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">bt_connected</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">bt_connecting</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;connecting to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">bt_connecting</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obs_address</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
                    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">BleakError</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;lost connection, reconnecting. connecting=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bt_connecting</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h4 id="obs_picamera.bluetooth.ObsBT.overtaking_handler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">overtaking_handler</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Simple notification handler which prints the data received.</p>

      <details class="quote">
        <summary>Source code in <code>obs_picamera/bluetooth.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">overtaking_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple notification handler which prints the data received.&quot;&quot;&quot;</span>
    <span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;Ihh&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Overtaking event: sensortime: </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2">, Left distance </span><span class="si">{</span><span class="n">l</span><span class="si">}</span><span class="s2">, right distance </span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">callback</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">overtaking_callbacks</span><span class="p">:</span>
        <span class="n">callback</span><span class="p">(</span>
            <span class="n">distance_l</span><span class="o">=</span><span class="n">l</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
            <span class="n">distance_r</span><span class="o">=</span><span class="n">r</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
            <span class="n">handlebars_l</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_left</span><span class="p">,</span>
            <span class="n">handlebar_r</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handlebar_right</span><span class="p">,</span>
            <span class="n">track_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">track_id</span><span class="p">,</span>
            <span class="n">sensortime</span><span class="o">=</span><span class="n">t</span><span class="p">,</span>
            <span class="n">history</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="obs_picamera.recorder" class="doc doc-heading">
          <code>recorder</code>


</h2>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="obs_picamera.recorder.Recorder" class="doc doc-heading">
        <code>Recorder</code>


</h3>


  <div class="doc doc-contents ">

  
      <p>Recorder for picamera that starts recording to a ring buffer when initialized
and allows to save the last 5 seconds of video from the buffer.</p>


        <details class="quote">
          <summary>Source code in <code>obs_picamera/recorder.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Recorder</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recorder for picamera that starts recording to a ring buffer when initialized</span>
<span class="sd">    and allows to save the last 5 seconds of video from the buffer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span> <span class="o">=</span> <span class="n">Picamera2</span><span class="p">()</span>
        <span class="n">fps</span> <span class="o">=</span> <span class="mi">25</span>
        <span class="n">dur</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">micro</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">1</span> <span class="o">/</span> <span class="n">fps</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000000</span><span class="p">)</span>
        <span class="n">vconfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span><span class="o">.</span><span class="n">create_video_configuration</span><span class="p">(</span>
            <span class="n">main</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">606</span><span class="p">)},</span> <span class="n">lores</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">606</span><span class="p">)},</span> <span class="n">encode</span><span class="o">=</span><span class="s2">&quot;lores&quot;</span>
        <span class="p">)</span>
        <span class="n">vconfig</span><span class="p">[</span><span class="s2">&quot;controls&quot;</span><span class="p">][</span><span class="s2">&quot;FrameDurationLimits&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">micro</span><span class="p">,</span> <span class="n">micro</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">vconfig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoder</span> <span class="o">=</span> <span class="n">H264Encoder</span><span class="p">(</span>
            <span class="n">iperiod</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">repeat</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">CircularOutput</span><span class="p">(</span>
            <span class="n">buffersize</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">fps</span> <span class="o">*</span> <span class="p">(</span><span class="n">dur</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">)),</span> <span class="n">outputtofile</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span><span class="o">.</span><span class="n">start_recording</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="n">Quality</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save_snippet_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the last 5 seconds of video from the buffer to the filename</span>
<span class="sd">        :param fp:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">fileoutput</span> <span class="o">=</span> <span class="n">fp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">jpeg_screenshot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span><span class="o">.</span><span class="n">capture_file</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;jpeg&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">picam2</span><span class="o">.</span><span class="n">stop_recording</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h4 id="obs_picamera.recorder.Recorder.save_snippet_to" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_snippet_to</span><span class="p">(</span><span class="n">fp</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Save the last 5 seconds of video from the buffer to the filename
:param fp:
:return:</p>

      <details class="quote">
        <summary>Source code in <code>obs_picamera/recorder.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save_snippet_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Save the last 5 seconds of video from the buffer to the filename</span>
<span class="sd">    :param fp:</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">fileoutput</span> <span class="o">=</span> <span class="n">fp</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="obs_picamera.scripts" class="doc doc-heading">
          <code>scripts</code>


</h2>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h3 id="obs_picamera.scripts.ui" class="doc doc-heading">
          <code>ui</code>


</h3>

  <div class="doc doc-contents ">
  
      <p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="obs_picamera.scripts.ui.MyApp" class="doc doc-heading">
        <code>MyApp</code>


</h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="remi.App">App</span></code></p>



        <details class="quote">
          <summary>Source code in <code>obs_picamera/scripts/ui.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">recorder</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">idle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;data_table&quot;</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">item_at</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">item_at</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;no counter&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_list_from_app_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_list_from_app_args</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preview_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gui</span><span class="o">.</span><span class="n">Widget</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_review</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;review tracks&quot;</span><span class="p">)</span>
        <span class="n">tabs</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">to_review</span><span class="p">],</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;margin&quot;</span><span class="p">:</span> <span class="s2">&quot;0px auto&quot;</span><span class="p">,</span> <span class="s2">&quot;background-color&quot;</span><span class="p">:</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stop_flag</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">RefreshImageWidget</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">API_HOST</span><span class="si">}</span><span class="s2">/v1/preview.jpeg&quot;</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">VideoPlayer</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">806</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">CheckBoxLabel</span><span class="p">(</span>
            <span class="s2">&quot;Preview&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TableWidget</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">item_at</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">item_at</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_check_change</span><span class="p">)</span>
        <span class="n">video_container</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
            <span class="p">[</span><span class="n">tabs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_table</span><span class="p">],</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;8pt auto&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">video_container</span>

    <span class="k">def</span> <span class="nf">review_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gui</span><span class="o">.</span><span class="n">Widget</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_preview</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;change page&quot;</span><span class="p">)</span>
        <span class="n">reviewcontainer</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">to_preview</span><span class="p">],</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;margin&quot;</span><span class="p">:</span> <span class="s2">&quot;0px auto&quot;</span><span class="p">,</span> <span class="s2">&quot;background-color&quot;</span><span class="p">:</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">reviewcontainer</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># self.recorder = Recorder()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">previewcontainer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preview_screen</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reviewcontainer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">review_screen</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_review</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_different_root_widget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reviewcontainer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_preview</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_different_root_widget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">previewcontainer</span>
        <span class="p">)</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reviewcontainer</span>

    <span class="k">def</span> <span class="nf">set_different_root_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emitter</span><span class="p">,</span> <span class="n">page_to_be_shown</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_root_widget</span><span class="p">(</span><span class="n">page_to_be_shown</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">update_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">API_HOST</span><span class="si">}</span><span class="s2">/v1/state&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lasttime</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span> <span class="ow">and</span> <span class="n">lasttime</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
                <span class="n">lasttime</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_data</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># the margin 0px auto centers the main container</span>
        <span class="n">verticalContainer</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">540</span><span class="p">,</span>
            <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;0px auto&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="s2">&quot;overflow&quot;</span><span class="p">:</span> <span class="s2">&quot;hidden&quot;</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="n">horizontalContainer</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span>
            <span class="n">layout_orientation</span><span class="o">=</span><span class="n">gui</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">LAYOUT_HORIZONTAL</span><span class="p">,</span>
            <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;0px&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="s2">&quot;overflow&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="n">subContainerLeft</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">320</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="s2">&quot;overflow&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="s2">&quot;text-align&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;/res:logo.png&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_img_clicked</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">new_from_list</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;First Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Last Name&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;101&quot;</span><span class="p">,</span> <span class="s2">&quot;Danny&quot;</span><span class="p">,</span> <span class="s2">&quot;Young&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;102&quot;</span><span class="p">,</span> <span class="s2">&quot;Christine&quot;</span><span class="p">,</span> <span class="s2">&quot;Holand&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;103&quot;</span><span class="p">,</span> <span class="s2">&quot;Lars&quot;</span><span class="p">,</span> <span class="s2">&quot;Gordon&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;104&quot;</span><span class="p">,</span> <span class="s2">&quot;Roberto&quot;</span><span class="p">,</span> <span class="s2">&quot;Robitaille&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;105&quot;</span><span class="p">,</span> <span class="s2">&quot;Maria&quot;</span><span class="p">,</span> <span class="s2">&quot;Papadopoulos&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
            <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">on_table_row_click</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_table_row_click</span><span class="p">)</span>

        <span class="c1"># the arguments are	width - height - layoutOrientationOrizontal</span>
        <span class="n">subContainerRight</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;220px&quot;</span><span class="p">,</span>
                <span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;block&quot;</span><span class="p">,</span>
                <span class="s2">&quot;overflow&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
                <span class="s2">&quot;text-align&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;This is a LABEL!&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bt</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Press me!&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="c1"># setting the listener for the onclick event of the button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bt</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_button_pressed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">txt</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;This is a TEXTAREA&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_text_area_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spin</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">SpinBox</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spin</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_spin_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Progress</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">CheckBoxLabel</span><span class="p">(</span>
            <span class="s2">&quot;Label checkbox&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_check_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">btInputDiag</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="s2">&quot;Open InputDialog&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">btInputDiag</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_input_dialog</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">btFileDiag</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="s2">&quot;File Selection Dialog&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">btFileDiag</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_fileselection_dialog</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">btUploadFile</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">FileUploader</span><span class="p">(</span><span class="s2">&quot;./&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">btUploadFile</span><span class="o">.</span><span class="n">onsuccess</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileupload_on_success</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">btUploadFile</span><span class="o">.</span><span class="n">onfailed</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileupload_on_failed</span><span class="p">)</span>

        <span class="n">items</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Danny Young&quot;</span><span class="p">,</span> <span class="s2">&quot;Christine Holand&quot;</span><span class="p">,</span> <span class="s2">&quot;Lars Gordon&quot;</span><span class="p">,</span> <span class="s2">&quot;Roberto Robitaille&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listView</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">ListView</span><span class="o">.</span><span class="n">new_from_list</span><span class="p">(</span>
            <span class="n">items</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listView</span><span class="o">.</span><span class="n">onselection</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_view_on_selected</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">link</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Link</span><span class="p">(</span>
            <span class="s2">&quot;http://localhost:8081&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A link to here&quot;</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
            <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dropDown</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">DropDown</span><span class="o">.</span><span class="n">new_from_list</span><span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot;DropDownItem 0&quot;</span><span class="p">,</span> <span class="s2">&quot;DropDownItem 1&quot;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropDown</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">drop_down_changed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropDown</span><span class="o">.</span><span class="n">select_by_value</span><span class="p">(</span><span class="s2">&quot;DropDownItem 0&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">slider</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slider</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slider_changed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">colorPicker</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">(</span>
            <span class="s2">&quot;#ffbb00&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colorPicker</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_picker_changed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="s2">&quot;2015-04-13&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">onchange</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">date_changed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">video</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Widget</span><span class="p">(</span><span class="n">_type</span><span class="o">=</span><span class="s2">&quot;iframe&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">290</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span>
            <span class="s2">&quot;src&quot;</span>
        <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;https://drive.google.com/file/d/0B0J9Lq_MRyn4UFRsblR3UTBZRHc/preview&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;100%&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;100%&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s2">&quot;controls&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">style</span><span class="p">[</span><span class="s2">&quot;border&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeView</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
        <span class="n">ti1</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Item1&quot;</span><span class="p">)</span>
        <span class="n">ti2</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Item2&quot;</span><span class="p">)</span>
        <span class="n">ti3</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Item3&quot;</span><span class="p">)</span>
        <span class="n">subti1</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Item1&quot;</span><span class="p">)</span>
        <span class="n">subti2</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Item2&quot;</span><span class="p">)</span>
        <span class="n">subti3</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Item3&quot;</span><span class="p">)</span>
        <span class="n">subti4</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Item4&quot;</span><span class="p">)</span>
        <span class="n">subsubti1</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Sub Item1&quot;</span><span class="p">)</span>
        <span class="n">subsubti2</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Sub Item2&quot;</span><span class="p">)</span>
        <span class="n">subsubti3</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">TreeItem</span><span class="p">(</span><span class="s2">&quot;Sub Sub Item3&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ti1</span><span class="p">,</span> <span class="n">ti2</span><span class="p">,</span> <span class="n">ti3</span><span class="p">])</span>
        <span class="n">ti2</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">subti1</span><span class="p">,</span> <span class="n">subti2</span><span class="p">,</span> <span class="n">subti3</span><span class="p">,</span> <span class="n">subti4</span><span class="p">])</span>
        <span class="n">subti4</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">subsubti1</span><span class="p">,</span> <span class="n">subsubti2</span><span class="p">,</span> <span class="n">subsubti3</span><span class="p">])</span>

        <span class="c1"># appending a widget to another, the first argument is a string key</span>
        <span class="n">subContainerRight</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bt</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">spin</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">btInputDiag</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">btFileDiag</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="c1"># use a defined key as we replace this widget later</span>
        <span class="n">fdownloader</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">FileDownloader</span><span class="p">(</span>
            <span class="s2">&quot;download test&quot;</span><span class="p">,</span> <span class="s2">&quot;../remi/res/logo.png&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span>
        <span class="p">)</span>
        <span class="n">subContainerRight</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fdownloader</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;file_downloader&quot;</span><span class="p">)</span>
        <span class="n">subContainerRight</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">btUploadFile</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dropDown</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">slider</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">colorPicker</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subContainerRight</span> <span class="o">=</span> <span class="n">subContainerRight</span>

        <span class="n">subContainerLeft</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">listView</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">video</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">horizontalContainer</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">subContainerLeft</span><span class="p">,</span> <span class="n">subContainerRight</span><span class="p">])</span>

        <span class="n">menu</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
        <span class="n">m1</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m2</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;View&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m2</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_view_clicked</span><span class="p">)</span>
        <span class="n">m11</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m12</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;Open&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m12</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_open_clicked</span><span class="p">)</span>
        <span class="n">m111</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m111</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_save_clicked</span><span class="p">)</span>
        <span class="n">m112</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;Save as&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m112</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_saveas_clicked</span><span class="p">)</span>
        <span class="n">m3</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuItem</span><span class="p">(</span><span class="s2">&quot;Dialog&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">m3</span><span class="o">.</span><span class="n">onclick</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menu_dialog_clicked</span><span class="p">)</span>

        <span class="n">menu</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">m3</span><span class="p">])</span>
        <span class="n">m1</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">m11</span><span class="p">,</span> <span class="n">m12</span><span class="p">])</span>
        <span class="n">m11</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">m111</span><span class="p">,</span> <span class="n">m112</span><span class="p">])</span>

        <span class="n">menubar</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MenuBar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
        <span class="n">menubar</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span>

        <span class="n">verticalContainer</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">menubar</span><span class="p">,</span> <span class="n">horizontalContainer</span><span class="p">])</span>

        <span class="c1"># this flag will be used to stop the display_counter Timer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_flag</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># kick of regular display of counter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_counter</span><span class="p">()</span>

        <span class="c1"># returning the root widget</span>
        <span class="k">return</span> <span class="n">verticalContainer</span>

    <span class="c1"># listener function</span>
    <span class="k">def</span> <span class="nf">on_img_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Image clicked!&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_table_row_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Table Item clicked: &quot;</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">on_button_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Button pressed! &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bt</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Hi!&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_text_area_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">newValue</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Text Area value changed!&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_spin_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">newValue</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;SpinBox changed, new value: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">newValue</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">on_check_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">newValue</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span> <span class="o">=</span> <span class="n">newValue</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">806</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">open_input_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputDialog</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">InputDialog</span><span class="p">(</span>
            <span class="s2">&quot;Input Dialog&quot;</span><span class="p">,</span> <span class="s2">&quot;Your name?&quot;</span><span class="p">,</span> <span class="n">initial_value</span><span class="o">=</span><span class="s2">&quot;type here&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">500</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputDialog</span><span class="o">.</span><span class="n">confirm_value</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_input_dialog_confirm</span><span class="p">)</span>

        <span class="c1"># here is returned the Input Dialog widget, and it will be shown</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputDialog</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_input_dialog_confirm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Hello &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">open_fileselection_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileselectionDialog</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">FileSelectionDialog</span><span class="p">(</span>
            <span class="s2">&quot;File Selection Dialog&quot;</span><span class="p">,</span> <span class="s2">&quot;Select files and folders&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileselectionDialog</span><span class="o">.</span><span class="n">confirm_value</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_fileselection_dialog_confirm</span><span class="p">)</span>

        <span class="c1"># here is returned the Input Dialog widget, and it will be shown</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileselectionDialog</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_fileselection_dialog_confirm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">filelist</span><span class="p">):</span>
        <span class="c1"># a list() of filenames and folders is returned</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Selected files: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filelist</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">filelist</span><span class="p">):</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">filelist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># replace the last download link</span>
            <span class="n">fdownloader</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">FileDownloader</span><span class="p">(</span>
                <span class="s2">&quot;download selected&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subContainerRight</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fdownloader</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;file_downloader&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_view_on_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">selected_item_key</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The selection event of the listView, returns a key of the clicked event.</span>
<span class="sd">        You can retrieve the item rapidly</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span>
            <span class="s2">&quot;List selection: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">listView</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">selected_item_key</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">drop_down_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;New Combo value: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">slider_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;New slider value: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">color_picker_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;New color value: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">date_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;New date value: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menu_save_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Menu clicked: Save&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menu_saveas_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Menu clicked: Save As&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menu_open_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Menu clicked: Open&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menu_view_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Menu clicked: View&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fileupload_on_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;File upload success: &quot;</span> <span class="o">+</span> <span class="n">filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fileupload_on_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;File upload failed: &quot;</span> <span class="o">+</span> <span class="n">filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overloading App.on_close event to stop the Timer.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_flag</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h5 id="obs_picamera.scripts.ui.MyApp.list_view_on_selected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_view_on_selected</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">selected_item_key</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>The selection event of the listView, returns a key of the clicked event.
You can retrieve the item rapidly</p>

      <details class="quote">
        <summary>Source code in <code>obs_picamera/scripts/ui.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">list_view_on_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">selected_item_key</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The selection event of the listView, returns a key of the clicked event.</span>
<span class="sd">    You can retrieve the item rapidly</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span>
        <span class="s2">&quot;List selection: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">listView</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">selected_item_key</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h5 id="obs_picamera.scripts.ui.MyApp.on_close" class="doc doc-heading">
<code class="highlight language-python"><span class="n">on_close</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Overloading App.on_close event to stop the Timer.</p>

      <details class="quote">
        <summary>Source code in <code>obs_picamera/scripts/ui.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Overloading App.on_close event to stop the Timer.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_flag</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>


  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="../changelog/" class="md-footer__link md-footer__link--next" aria-label="Next: Changelog" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Changelog
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>